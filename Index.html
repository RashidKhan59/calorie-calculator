<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calorie Calculator</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;max-width:720px;margin:28px auto;padding:16px}
    h1{font-size:22px;margin-bottom:6px}
    label{display:block;margin:8px 0 4px}
    input,select{width:100%;padding:8px;margin-bottom:8px;box-sizing:border-box}
    .row{display:flex;gap:10px}
    .row > *{flex:1}
    button{padding:10px 14px;font-size:16px;cursor:pointer}
    .result{margin-top:14px;padding:12px;border-radius:8px;background:#f3f3f3}
    small{color:#666}
  </style>
</head>
<body>
  <h1>Daily Calorie Needs Calculator</h1>
  <p>Enter basic details. Uses Mifflin–St Jeor formula for BMR.</p>

  <label>Age (years)</label>
  <input id="age" type="number" min="5" max="120" value="30">

  <div class="row">
    <div>
      <label>Gender</label>
      <select id="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
    </div>
    <div>
      <label>Height (cm)</label>
      <input id="height" type="number" min="50" max="250" value="170">
    </div>
  </div>

  <label>Weight (kg)</label>
  <input id="weight" type="number" min="20" max="400" value="70">

  <label>Activity level <small>(select closest)</small></label>
  <select id="activity">
    <option value="1.2">Sedentary — little/no exercise</option>
    <option value="1.375">Lightly active — light exercise 1–3 days/week</option>
    <option value="1.55">Moderately active — moderate exercise 3–5 days/week</option>
    <option value="1.725">Very active — hard exercise 6–7 days/week</option>
    <option value="1.9">Extra active — very hard job / training twice daily</option>
  </select>

  <label>Goal</label>
  <select id="goal">
    <option value="maintain">Maintain weight</option>
    <option value="lose">Lose weight (moderate deficit)</option>
    <option value="gain">Gain weight (mild surplus)</option>
  </select>

  <button id="calcBtn">Calculate</button>

  <div id="output" class="result" style="display:none"></div>

<script>
document.getElementById('calcBtn').addEventListener('click', function(){
  const age = Number(document.getElementById('age').value);
  const gender = document.getElementById('gender').value;
  const height = Number(document.getElementById('height').value);
  const weight = Number(document.getElementById('weight').value);
  const activity = Number(document.getElementById('activity').value);
  const goal = document.getElementById('goal').value;
  const out = document.getElementById('output');

  if(!age || !height || !weight){ out.style.display='block'; out.innerHTML = '<strong>Please fill all fields.</strong>'; return; }

  // Mifflin–St Jeor BMR
  let bmr = 10 * weight + 6.25 * height - 5 * age + (gender === 'male' ? 5 : -161);
  let maintenance = bmr * activity;
  let target;
  let advice = '';

  if(goal === 'maintain'){ target = maintenance; advice = 'To maintain weight.'; }
  else if(goal === 'lose'){ target = maintenance - 500; advice = 'Moderate deficit (~500 kcal/day). Expect ~0.45 kg loss per week.'; }
  else { target = maintenance + 300; advice = 'Mild surplus (~300 kcal/day) for slow gain.'; }

  // Safety bounds
  if(target < 1200 && gender === 'female') target = 1200;
  if(target < 1400 && gender === 'male') target = 1400;

  out.style.display='block';
  out.innerHTML = `
    <strong>BMR:</strong> ${Math.round(bmr)} kcal/day<br>
    <strong>Maintenance calories:</strong> ${Math.round(maintenance)} kcal/day<br>
    <strong>Target calories (${goal}):</strong> ${Math.round(target)} kcal/day<br>
    <small>${advice}</small>
    <hr>
    <small>Note: This is an estimate. For medical issues or exact plans consult a professional.</small>
  `;
});
</script>
</body>
</html>
